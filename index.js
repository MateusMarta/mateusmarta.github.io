var r_a=1,r_b=1,i_a=1,i_b=1,table=$("#table1").DataTable();function changeparagraph(a){$(document).ready(function(){table.destroy(),table=$("#table1").DataTable({ajax:"json/"+a+".json",deferRender:!0,lengthMenu:[10,25,50,100],scrollX:!0,columnDefs:[{orderable:!1,targets:[3,4]},{sorting:!1,targets:[3,4]},{searchable:!1,targets:[2,5]},{targets:4,data:null,defaultContent:'<button class="j2">Selecionar</button>'},{targets:3,data:null,defaultContent:'<button class="j1">Selecionar</button>'},]})}),$("#table1 tbody").on("click","button",function(){if("j1"==this.className){var a=table.row($(this).parents("tr")).data();r_a=a[2],i_a=a[5],document.getElementById("jogador_1").innerHTML="<b>Jogador 1: </b>"+a[1]}else{var a=table.row($(this).parents("tr")).data();r_b=a[2],i_b=a[5],document.getElementById("jogador_2").innerHTML="<b>Jogador 2: </b>"+a[1]}}),fetch("json/ets/"+a+".json").then(function(a){return a.json()}).then(function(a){var t=[],e=[];for(let n=0;n<15;n++)t.push(a.bins[n]);for(let r=0;r<15;r++)e.push(a.histo[r]);document.getElementById("chart-container-3").innerHTML="&nbsp;",document.getElementById("chart-container-3").innerHTML='<canvas id="myChart-3"></canvas>',new Chart("myChart-3",{type:"bar",data:{labels:t,datasets:[{data:e}]},options:{scales:{y:{beginAtZero:!0}},plugins:{legend:!1,title:{display:!0,text:"Distribui\xe7\xe3o de ratings (n\xfamero de jogadores)"}}}})}),document.getElementById("modalidade").innerHTML="Estat\xedsticas "+a,document.getElementById("modalidade2").innerHTML="<b>Modalidade: </b>"+a}function factorial(a){for(var t=1,e=2;e<=a;e++)t*=e;return t}function combs(a,t){return factorial(a)/(factorial(t)*factorial(a-t))}function prob_ganhar(){for(var a=[],t=[],e=[],n=document.getElementById("k").value,r=1/(1+Math.exp((r_b-r_a)/Math.sqrt(i_a**2+i_b**2))),o=0,s=0;s<n;s++){var l=r**n*(1-r)**s*combs(parseFloat(n)+parseFloat(s)-1,s);a.push(n+"-"+s),t.push(Math.round(1e3*l)/10),e.push("green")}for(var s=n-1;s>-1;s--){var l=(1-r)**n*r**s*combs(parseFloat(n)+parseFloat(s)-1,s);a.push(s+"-"+n),t.push(Math.round(1e3*l)/10),e.push("red"),o+=l}document.getElementById("chart-container").innerHTML="&nbsp;",document.getElementById("chart-container").innerHTML='<canvas id="myChart"></canvas>',new Chart("myChart",{type:"bar",data:{labels:a,datasets:[{backgroundColor:e,data:t}]},options:{scales:{y:{beginAtZero:!0}},plugins:{legend:!1,title:{display:!0,text:"Probabilidade de cada resultado (%)"}}}}),document.getElementById("chart-container-2").innerHTML="&nbsp;",document.getElementById("chart-container-2").innerHTML='<canvas id="myChart-2"></canvas>',new Chart("myChart-2",{type:"bar",data:{labels:["Jogador 1","Jogador 2"],datasets:[{backgroundColor:["green","red"],data:[Math.round((1-o)*1e3)/10,Math.round(1e3*o)/10]}]},options:{scales:{y:{beginAtZero:!0}},plugins:{legend:!1,title:{display:!0,text:"Probabilidade total de ganhar (%)"}}}})}changeparagraph("poolPT");